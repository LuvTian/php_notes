<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>ajax请求百度ip接口返回的json数据</title>
    <script src="http://apps.bdimg.com/libs/jquery/1.8.3/jquery.min.js"></script>
</head>
<body>
    <div id="ip"></div>
    <script>
    $(function() {
        $.ajax({
                url: "bIP.php",
                type: "post",
                dataType: "json"
            })
            .done(function(data) {
                console.log(typeof(data));
                console.log(data);
                if(data.errNum=='0'){
                	$("#ip").html("您的IP是:" + data.retData.ip + " 来自:" + data.retData.country + " " + data.retData.city + " " + data.retData.district + " " + data.retData.carrier);
                }else{
                	$("#ip").html('无效的IP地址');
                }
            })
            .fail(function() {
                alert("error");
            })
    });
    </script>
</body>

</html>
