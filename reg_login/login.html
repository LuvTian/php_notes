<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>登录</title>
<script src="http://libs.baidu.com/jquery/1.8.3/jquery.min.js"></script>
</head>
<body>
    <!-- <form action="login.php" method="post"> -->
    <form>
        用户名：<input type="text" name="uname">
        密码：<input type="password" name="upass">
        <input type="submit" value="登录" id="logbtn">
    </form>
    <div class="result"></div>

    <script>
        $(function(){
            $('#logbtn').on('click',function(){

                $.ajax({
                    // url: $('form').attr('action'), //这里是接收数据的PHP程序
                    url: 'login.php', //这里是接收数据的PHP程序
                    type: 'POST',
                    dataType: 'json',//从php返回的值以 JSON方式 解释
                    data: $('form').serialize(), //传给PHP的数据 表单序列化
                    success:function(data){
                        console.log(data);//object //对返回的数据处理
                        if (data==1) {
                            $('.result').text('登录成功！');
                        }
                        // location.href='login.php';
                    },
                    error:function(){
                        $('.result').text('用户名或密码错误');
                    }
                });

                return false;//阻止表单的默认提交,否则会出现post方式URL上有参数等意外的错误
            });
        })


    </script>
</body>
</html>
